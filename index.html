<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="A spatial strategy game" />
    <title>Sector</title>
    <link rel="stylesheet" href="index.css" />
    <link rel="shortcut icon" type="image/x-icon" href="images/favicon.png" />
    <link rel="manifest" href="manifest.json" />
    <meta name="theme-color" content="#6e799e" />
    <link rel="apple-touch-icon" sizes="324x324" href="images/favicon.png" />
    <link rel="apple-touch-icon" sizes="512x512" href="images/icon_512.png" />
    <script>
      // Check that service workers are supported
      if ("serviceWorker" in navigator) {
        console.log("SW in nav");
        console.log(location.hostname);
        const path =
          location.hostname === "localhost" ? "/sw.js" : "/sector/sw.js";
        const scope = location.hostname === "localhost" ? "" : "/sector/";
        console.log(path);
        console.log(scope);

        // Use the window load event to keep the page load performant
        window.addEventListener("load", () => {
          navigator.serviceWorker.register(path, { scope: scope });
        });
      }
    </script>
  </head>

  <body>
    <div id="game">
      <div id="board">
        <div class="section">
          <div class="square played" id="row0col0played"></div>
          <div class="square overlay" id="row0col0overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row0col1played"></div>
          <div class="square overlay" id="row0col1overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row0col2played"></div>
          <div class="square overlay" id="row0col2overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row0col3played"></div>
          <div class="square overlay" id="row0col3overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row0col4played"></div>
          <div class="square overlay" id="row0col4overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row0col5played"></div>
          <div class="square overlay" id="row0col5overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row0col6played"></div>
          <div class="square overlay" id="row0col6overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row0col7played"></div>
          <div class="square overlay" id="row0col7overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row0col8played"></div>
          <div class="square overlay" id="row0col8overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row0col9played"></div>
          <div class="square overlay" id="row0col9overlay"></div>
        </div>

        <div class="section">
          <div class="square played" id="row1col0played"></div>
          <div class="square overlay" id="row1col0overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row1col1played"></div>
          <div class="square overlay" id="row1col1overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row1col2played"></div>
          <div class="square overlay" id="row1col2overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row1col3played"></div>
          <div class="square overlay" id="row1col3overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row1col4played"></div>
          <div class="square overlay" id="row1col4overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row1col5played"></div>
          <div class="square overlay" id="row1col5overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row1col6played"></div>
          <div class="square overlay" id="row1col6overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row1col7played"></div>
          <div class="square overlay" id="row1col7overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row1col8played"></div>
          <div class="square overlay" id="row1col8overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row1col9played"></div>
          <div class="square overlay" id="row1col9overlay"></div>
        </div>

        <div class="section">
          <div class="square played" id="row2col0played"></div>
          <div class="square overlay" id="row2col0overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row2col1played"></div>
          <div class="square overlay" id="row2col1overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row2col2played"></div>
          <div class="square overlay" id="row2col2overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row2col3played"></div>
          <div class="square overlay" id="row2col3overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row2col4played"></div>
          <div class="square overlay" id="row2col4overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row2col5played"></div>
          <div class="square overlay" id="row2col5overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row2col6played"></div>
          <div class="square overlay" id="row2col6overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row2col7played"></div>
          <div class="square overlay" id="row2col7overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row2col8played"></div>
          <div class="square overlay" id="row2col8overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row2col9played"></div>
          <div class="square overlay" id="row2col9overlay"></div>
        </div>

        <div class="section">
          <div class="square played" id="row3col0played"></div>
          <div class="square overlay" id="row3col0overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row3col1played"></div>
          <div class="square overlay" id="row3col1overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row3col2played"></div>
          <div class="square overlay" id="row3col2overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row3col3played"></div>
          <div class="square overlay" id="row3col3overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row3col4played"></div>
          <div class="square overlay" id="row3col4overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row3col5played"></div>
          <div class="square overlay" id="row3col5overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row3col6played"></div>
          <div class="square overlay" id="row3col6overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row3col7played"></div>
          <div class="square overlay" id="row3col7overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row3col8played"></div>
          <div class="square overlay" id="row3col8overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row3col9played"></div>
          <div class="square overlay" id="row3col9overlay"></div>
        </div>

        <div class="section">
          <div class="square played" id="row4col0played"></div>
          <div class="square overlay" id="row4col0overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row4col1played"></div>
          <div class="square overlay" id="row4col1overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row4col2played"></div>
          <div class="square overlay" id="row4col2overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row4col3played"></div>
          <div class="square overlay" id="row4col3overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row4col4played"></div>
          <div class="square overlay" id="row4col4overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row4col5played"></div>
          <div class="square overlay" id="row4col5overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row4col6played"></div>
          <div class="square overlay" id="row4col6overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row4col7played"></div>
          <div class="square overlay" id="row4col7overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row4col8played"></div>
          <div class="square overlay" id="row4col8overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row4col9played"></div>
          <div class="square overlay" id="row4col9overlay"></div>
        </div>

        <div class="section">
          <div class="square played" id="row5col0played"></div>
          <div class="square overlay" id="row5col0overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row5col1played"></div>
          <div class="square overlay" id="row5col1overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row5col2played"></div>
          <div class="square overlay" id="row5col2overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row5col3played"></div>
          <div class="square overlay" id="row5col3overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row5col4played"></div>
          <div class="square overlay" id="row5col4overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row5col5played"></div>
          <div class="square overlay" id="row5col5overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row5col6played"></div>
          <div class="square overlay" id="row5col6overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row5col7played"></div>
          <div class="square overlay" id="row5col7overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row5col8played"></div>
          <div class="square overlay" id="row5col8overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row5col9played"></div>
          <div class="square overlay" id="row5col9overlay"></div>
        </div>

        <div class="section">
          <div class="square played" id="row6col0played"></div>
          <div class="square overlay" id="row6col0overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row6col1played"></div>
          <div class="square overlay" id="row6col1overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row6col2played"></div>
          <div class="square overlay" id="row6col2overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row6col3played"></div>
          <div class="square overlay" id="row6col3overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row6col4played"></div>
          <div class="square overlay" id="row6col4overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row6col5played"></div>
          <div class="square overlay" id="row6col5overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row6col6played"></div>
          <div class="square overlay" id="row6col6overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row6col7played"></div>
          <div class="square overlay" id="row6col7overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row6col8played"></div>
          <div class="square overlay" id="row6col8overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row6col9played"></div>
          <div class="square overlay" id="row6col9overlay"></div>
        </div>

        <div class="section">
          <div class="square played" id="row7col0played"></div>
          <div class="square overlay" id="row7col0overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row7col1played"></div>
          <div class="square overlay" id="row7col1overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row7col2played"></div>
          <div class="square overlay" id="row7col2overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row7col3played"></div>
          <div class="square overlay" id="row7col3overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row7col4played"></div>
          <div class="square overlay" id="row7col4overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row7col5played"></div>
          <div class="square overlay" id="row7col5overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row7col6played"></div>
          <div class="square overlay" id="row7col6overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row7col7played"></div>
          <div class="square overlay" id="row7col7overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row7col8played"></div>
          <div class="square overlay" id="row7col8overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row7col9played"></div>
          <div class="square overlay" id="row7col9overlay"></div>
        </div>

        <div class="section">
          <div class="square played" id="row8col0played"></div>
          <div class="square overlay" id="row8col0overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row8col1played"></div>
          <div class="square overlay" id="row8col1overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row8col2played"></div>
          <div class="square overlay" id="row8col2overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row8col3played"></div>
          <div class="square overlay" id="row8col3overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row8col4played"></div>
          <div class="square overlay" id="row8col4overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row8col5played"></div>
          <div class="square overlay" id="row8col5overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row8col6played"></div>
          <div class="square overlay" id="row8col6overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row8col7played"></div>
          <div class="square overlay" id="row8col7overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row8col8played"></div>
          <div class="square overlay" id="row8col8overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row8col9played"></div>
          <div class="square overlay" id="row8col9overlay"></div>
        </div>

        <div class="section">
          <div class="square played" id="row9col0played"></div>
          <div class="square overlay" id="row9col0overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row9col1played"></div>
          <div class="square overlay" id="row9col1overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row9col2played"></div>
          <div class="square overlay" id="row9col2overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row9col3played"></div>
          <div class="square overlay" id="row9col3overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row9col4played"></div>
          <div class="square overlay" id="row9col4overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row9col5played"></div>
          <div class="square overlay" id="row9col5overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row9col6played"></div>
          <div class="square overlay" id="row9col6overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row9col7played"></div>
          <div class="square overlay" id="row9col7overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row9col8played"></div>
          <div class="square overlay" id="row9col8overlay"></div>
        </div>
        <div class="section">
          <div class="square played" id="row9col9played"></div>
          <div class="square overlay" id="row9col9overlay"></div>
        </div>
      </div>

      <div id="deck">
        <div id="remaining"></div>
        <div id="offer">
          <div class="square offer" id="offer_row0col0"></div>
          <div class="square offer" id="offer_row0col1"></div>
          <div class="square offer" id="offer_row1col0"></div>
          <div class="square offer" id="offer_row1col1"></div>
        </div>
      </div>

      <div id="controls">
        <div id="navigation">
          <button class="control_button" id="left_up">
            <div class="nav_img" id="left_up_img"></div>
          </button>
          <button class="control_button" id="up">
            <div class="nav_img" id="up_img"></div>
          </button>
          <button class="control_button" id="right_up">
            <div class="nav_img" id="right_up_img"></div>
          </button>
          <button class="control_button" id="left" disabled>
            <div class="nav_img" id="left_img"></div>
          </button>
          <button class="control_button" id="rotate">
            <div class="nav_img" id="rotate_img"></div>
          </button>
          <button class="control_button" id="right" disabled>
            <div class="nav_img" id="right_img"></div>
          </button>
          <button class="control_button" id="left_down" disabled>
            <div class="nav_img" id="left_down_img"></div>
          </button>
          <button class="control_button" id="down" disabled>
            <div class="nav_img" id="down_img"></div>
          </button>
          <button class="control_button" id="right_down" disabled>
            <div class="nav_img" id="right_down_img"></div>
          </button>
        </div>
        <div id="non-nav">
          <button class="reg_button" id="newGame">New Game</button>
          <button class="reg_button" id="openRules">Rules</button>

          <button class="reg_button" id="end_turn_button" disabled>
            End Turn
          </button>
          <button class="reg_button" id="score_button" disabled>
            End Turn <br />and Score
          </button>
          <div class="reg_button hidden" id="score"></div>
        </div>
      </div>
    </div>
    <div class="modal hidden" id="rules">
      <button id="closeRules">close</button>
      <div id="rule_1" class="rule">
        <div>SECTOR</div>
        <div>
          Strategically place tiles to build the greatest galactic empire.
        </div>
        <div>2 players</div>
        <div>15 minutes</div>
        <div class="rule_image" id="symbols"></div>
        <div>Designed by Colin Thom</div>
        <div>Built by Sarah Edwards</div>
        <div>
          Want more games? Visit
          <a href="https://skedwards88.github.io/portfolio/">CnS Games</a>
        </div>
        <div>Version 2.2.0</div>
      </div>
      <div id="rule_2" class="rule hidden">
        <div>Players take turns placing tiles on the board (the Expanse).</div>
        <div>
          The color of the control panel reflects the color of the current
          player.
        </div>
      </div>
      <div id="rule_3" class="rule hidden">
        <div>
          Each tile is divided into quadrants. Quadrants may be blue, red or
          black.
        </div>
        <div class="rule_image" id="example_tile"></div>
        <div>Some blue and red quadrants have one of four different icons.</div>
        <div class="rule_image" id="symbols"></div>
      </div>
      <div id="rule_4" class="rule hidden">
        <div>
          You may place a tile completely or partially overlapping another tile
          in the Expanse.
        </div>
        <div class="rule_image" id="legal_overlap"></div>
        <div>However, blue and red cannot overlap each other.</div>
      </div>
      <div id="rule_5" class="rule hidden">
        <div>
          At least one quadrant of the placed tile must be adjacent to or
          overlap a quadrant of another tile in the Expanse.
        </div>
        <div class="rule_image" id="placements"></div>
      </div>
      <div id="rule_6" class="rule hidden">
        <div>A sector is any connected set of quadrants of the same color.</div>
        <div class="rule_image" id="sectors"></div>
      </div>
      <div id="rule_7" class="rule hidden">
        <div>
          A sector is worth 1 point per quadrant, plus 1 point per unique icon.
        </div>
        <div>
          For example, this sector is worth 7 points: 5 points for each blue
          quadrant + 2 points for each unique symbol.
        </div>
        <div class="rule_image" id="example_score"></div>
      </div>
      <div id="rule_8" class="rule hidden">
        <div>
          Once per game, either player may choose to score their current highest
          scoring sector.
        </div>
        <div class="rule_image" id="end_and_score"></div>
      </div>
      <div id="rule_9" class="rule hidden">
        <div>
          After this point, the un-scored player tries to beat the score.
        </div>
        <div>If the un-scored player beats the score, they win.</div>
        <div>
          However, if they do not beat the score by the end of the game, the
          other player wins.
        </div>
      </div>
      <div id="rule_10" class="rule hidden">
        <div>
          If no player has scored a sector by the end of the game, the highest
          scoring sector wins.
        </div>
      </div>
      <div>
        <button id="rule+-1" disabled>&#60; &#60; &#60;</button>
        <button id="rule+1">&#62; &#62; &#62;</button>
      </div>
    </div>
    <div class="modal hidden" id="gameOver">
      <div id="gameOverText"></div>
      <button id="closeGameOver">close</button>
    </div>

    <script type="module" src="index.js"></script>
  </body>
</html>
